# Customizing Trisul for an OEM

If you are an OEM you can rebrand and customize the look of the product.

1. Specify new product name, logo, customer name in reports, etc in
   *oem_settings.rb*  

2. Design new themes

## oemsettings.rb

The OEM settings file is located in `usr/local/share/webtrisul/config/initializers/oem_settings.rb` This is
the only file you need to change.

> You must restart the web server for changes made to the
> ***oem_settings.rb*** file to take effect

## Fields

You may modify these fields to suit your environment.

| Fields         | Value |
| -------------- | ----- |
| IS_DEMO_LOGIN  | false |
| IS_SHOW_TAGGER | true  |
| WS_SERVER_PORT | 3003  |
| SITE_ID        | “”    |
| SHOW_DEMO_LOGO | false |

### Manufacturer details (Do not change these)

| Fields                 | Defaults                 |
| ---------------------- | ------------------------ |
| MANUFACTURER_NAME      | “trisul.org”             |
| MANUFACTURER_NAME_FULL | “trisul.org”             |
| MANUFACTURER_SITE      | “https://www.trisul.org” |
| MANUFACTURER_COPYRIGHT | “© 2020”                 |

### About the OEM

| Fields        | Defaults                                               | Description                                                |
| ------------- | ------------------------------------------------------ | ---------------------------------------------------------- |
| OEM_NAME      | Unleash Networks                                       | Appears in the login screen and the page footer            |
| OEM_SITE      | http://www.unleashnetworks.com                         | Link appears in the bottom of page and in the login screen |
| OEM_TRADEMARK | Trisul ® is a registered trademark of Unleash Networks | Appears in license page, and footers                       |

### About the product

| Fields             | Defaults                              | Desciption                                                                            |
| ------------------ | ------------------------------------- | ------------------------------------------------------------------------------------- |
| PRODUCT_NAME       | Trisul                                | The product name to be displayed in the login and in the page header.                 |
| PRODUCT_NAME_FULL  | Trisul Network Metering and Forensics | Carries the detailed product name which will appear in the bottom of the login screen |
| PRODUCT_NAME_DESC  | Network Metering and Forensics        | Carries the product description , appears alongside the PRODUCT_NAME                  |
| PRODUCT_NAME_WEB   | Web Trisul                            | Carries the name of the web-interface present.                                        |
| PRODUCT_LOGO       | trisul.png                            | Carries the product logo, appears on the login and page header and other places       |
| PRODUCT_LOGO_SMALL | trisul.png                            | Used mainly as a 16x16 favicon and maybe in other places.                             |
| PRODUCT_LOGO_WHITE | trisul_white.png                      | Used mainly as a 16x16 favicon and maybe in other places.                             |

### End Customer Details

| Fields             | Defaults                   | Description                |
| ------------------ | -------------------------- | -------------------------- |
| CUSTOMER_NAME      | “Trisul End Customer”      | End customer name in short |
| CUSTOMER_NAME_FULL | “Trisul Network Analytics” | End Customer name in full  |

### Report settings

| Fields              | Defaults                | Description                                                     |
| ------------------- | ----------------------- | --------------------------------------------------------------- |
| OEM_FOOTER_RHS      | Generated by Trisul NSM | Carries the name to be displayed on the bottom right of the PDF |
| CUSTOMER_FOOTER_LHS | ACME Inc                | Carries the name to be displayed on the bottom left of the PDF  |

#### Report links

| Fields   | Defaults | Description                                                                                                                                                                                                                                                                                  |
| -------- | -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| LINK_PDF | cg       | Controls whether the Commonly used reports bring up a PDF directly or shows a HTML report with a Generate PDFlink.<br/>If set to `cg` – User views a HTML page depicting the usage activity of the counter group<br/>If set to `cg_pdf` – User gets a PDF report directly ( one click link ) |

}IP_REPORT_CHART_TYPE\|LINETABLE\|available chart types “LINE” ,“AREA”
,“SQUARELINE”,“STACKEDAREA”,“LINETABLE”\|

### Retro analysis time selector

| Fields            | Defaults | Description                                                       |
| ----------------- | -------- | ----------------------------------------------------------------- |
| RETRO_TIME_RANGES |          | \[ \[‘Hours’, 86400\], \[‘Days’,604800 \], \[‘Weeks’, 2419200\]\] |

Controls the time ranges shown as a tab on top the retro analysis chart. 

You can set this to an empty array if you do not want any such selection
and prefer to manually enter dates.

| Fields             | Defaults | Description                                                                                                                                                                             |
| ------------------ | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| MODULE_RECENT_SECS |          | \[ \[“15 Min”,900\], \[“30 Min”,1800\], \[“1 Hr”, 3600\], \[“3 Hr”, 10800\], \[“6 Hr”, 21600\], \[“12 Hr”, 43200\], \[“1 Day”, 86400\] , \[“1 Week”, 604800\], \[“1 Month”, 2678400\]\] |

### Extra plugins from oem

| Fields             | Defaults |
| ------------------ | -------- |
| ADDITIONAL_PLUGINS | %w()     |

### If you have connected tags to counter groups

| Fields     | Defaults                                                                                                 |
| ---------- | -------------------------------------------------------------------------------------------------------- |
| DEEP_DRILL | `{:name => “Country”, :guid => ‘{00990011-44BD-4C55-891A-77823D59161B}’,:valid_tags=>[“news”,“social”]}` |
| DEEP_DRILL | `{}`                                                                                                     |

### Default snort rules directory

| Fields          | Defaults                                                                                    |
| --------------- | ------------------------------------------------------------------------------------------- |
| SNORT_RULE_DIRS | `[“/etc/snort/rules”,“/usr/local/etc/snort/rules”,“/etc/nsm/rules”,“/etc/suricata/rules”\]` |

### snort look up url

| Fields              | Defaults                               |
| ------------------- | -------------------------------------- |
| SNORT_LOOKUP_URL    | “http://snort.org/rule_docs/xxxx-yyyy” |
| SURICATA_LOOKUP_URL | “http://doc.emergingthreats.net/xxxx”  |

### Show counter group description in retro counters

| Fields                    | Defaults                                 |
| ------------------------- | ---------------------------------------- |
| SHOW_CG_DESC              | false                                    |
| SUBSCRIBER_INTERFACE_GUID | `{9781DB2C-F78A-4F7F-A7E8-2B1A9A7BE71A}` |

### If you also want to do NETFLOW Network Layer Protocol Tracking per interface

| Fields                          | Defaults |
| ------------------------------- | -------- |
| ROUTER_INTERFACE_TRACK_PROTOCOL | true     |

### webtrisul wants to connect which hub

| Fields              | Defaults |
| ------------------- | -------- |
| DEFAULT_HUB_NODE_ID | “hub0”   |

### Show Customer Logo

| Fields             | Defaults |
| ------------------ | -------- |
| SHOW_CUSTOMER_LOGO | true     |
